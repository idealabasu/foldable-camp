<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><title>RC Servos | Foldable Robotics Camp</title><link href=../../css/bootstrap.min.css rel=stylesheet><style>.bd-placeholder-img{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media(min-width:768px){.bd-placeholder-img-lg{font-size:3.5rem}}</style><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Oleo+Script:wght@400;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet><link href=../../css/blog.css rel=stylesheet><link href=../../css/features.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<link rel=stylesheet type=text/css href=../../hugo-cite.css><link rel=apple-touch-icon sizes=57x57 href=../../favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=../../favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=../../favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=../../favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=../../favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=../../favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=../../favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=../../favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=../../favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=../../favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=../../favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=../../favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=../../favicon/favicon-16x16.png><link rel=manifest href=../../favicon/manifest.json></head><body><div class=container><header class="blog-header py-3"><div class="row flex-nowrap justify-content-between align-items-center"><div class="col-2 pt-1"></div><div class="col-8 text-center"><a class="blog-header-logo text-dark" href=../../>Foldable Robotics Camp</a></div><div class="col-2 d-flex justify-content-end align-items-center"></div></div></header><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container-fluid><a class=navbar-brand href=../../>Home</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul><span class=navbar-text></span><form action=http://idealab.asu.edu/foldable-camp//search class=d-flex><input class="form-control me-2" id=search-query name=s type=s placeholder=Search aria-label=Search>
<button class="btn btn-outline-success" type=submit>Search</button></form></div></div></nav></div><main class=container><div class=text-center><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../../presentations>presentations</a></li><li class="breadcrumb-item active" aria-current=page>rc-servos</li></ol></nav></div><h1>RC Servos</h1><article><h2 id=what-is-an-rc-servo>What is an RC Servo</h2><ul><li>Not just a motor, an “Electromechanical System”</li></ul><p><div class=text-center><a href=img0000.png><img src=img0000.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><h2 id=whats-inside>What’s inside</h2><p><div class=text-center><a href=img0001.png><img src=img0001.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><ul><li><a href=https://www.sparkfun.com/servos>https://www.sparkfun.com/servos</a></li></ul><h2 id=common-servo-sizes>Common Servo Sizes</h2><p><div class=text-center><a href=img0002.png><img src=img0002.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><h2 id=how-do-you-plug-in-a-servo>How do you plug in a Servo?</h2><ul><li>Three wires:</li><li>Ground - usually black</li><li>Power - usually red</li><li>Signal - neither red nor black</li></ul><p><div class=text-center><a href=img0003.png><img src=img0003.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><h2 id=other-kinds-of-servos>Other Kinds of Servos</h2><ul><li>Linear Servos: Same idea, only you use a lead screw to translate the output rather than rotate</li><li>Continuous Rotation Servos: The potentiometer is removed, so the control signal just relates to speed</li><li>Servos with Feedback: Extra wire for position value</li></ul><p><div class=text-center><a href=img0004.png><img src=img0004.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p><div class=text-center><a href=img0005.png><img src=img0005.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><h2 id=servo-mounting-ideas>Servo Mounting Ideas</h2><p><div class=text-center><a href=img0006.png><img src=img0006.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p><div class=text-center><a href=img0007.png><img src=img0007.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p><div class=text-center><a href=img0008.png><img src=img0008.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p><div class=text-center><a href=img0009.png><img src=img0009.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><h2 id=controlling-a-servo>Controlling a Servo</h2><p><div class=text-center><a href=img0010.png><img src=img0010.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p><div class=text-center><a href=img0011.png><img src=img0011.png alt style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><ul><li>PWM: Pulse Width Modulation</li><li>The “value” sent by a PWM signal is the proportion of the time on vs the “period”, or time between signals</li><li>frequency = 1/period</li><li>period = 200ms</li><li>frequency = ?</li></ul><h2 id=python-code-for-controlling-a-servo>Python Code for Controlling a Servo</h2><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>machine</span> <span style=color:#f92672>import</span> <span style=color:#111>Pin</span><span style=color:#111>,</span> <span style=color:#111>PWM</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>time</span> <span style=color:#f92672>import</span> <span style=color:#111>sleep</span>
</span></span><span style=display:flex><span><span style=color:#111>frequency</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span><span style=color:#111>range_low</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span><span style=color:#111>range_high</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>122</span>
</span></span><span style=display:flex><span><span style=color:#111>servo1</span> <span style=color:#f92672>=</span> <span style=color:#111>PWM</span><span style=color:#111>(</span><span style=color:#111>Pin</span><span style=color:#111>(</span><span style=color:#ae81ff>13</span><span style=color:#111>),</span> <span style=color:#111>frequency</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>while</span> <span style=color:#00a8c8>True</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>range_low</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>range_high</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>)</span>
</span></span></code></pre></div><h2 id=more-advanced>More Advanced</h2><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>machine</span> <span style=color:#f92672>import</span> <span style=color:#111>Pin</span><span style=color:#111>,</span> <span style=color:#111>PWM</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>time</span> <span style=color:#f92672>import</span> <span style=color:#111>sleep</span>
</span></span><span style=display:flex><span><span style=color:#111>frequency</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span><span style=color:#111>range_low</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span><span style=color:#111>range_high</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>122</span>
</span></span><span style=display:flex><span><span style=color:#111>servo1</span> <span style=color:#f92672>=</span> <span style=color:#111>PWM</span><span style=color:#111>(</span><span style=color:#111>Pin</span><span style=color:#111>(</span><span style=color:#ae81ff>13</span><span style=color:#111>),</span> <span style=color:#111>frequency</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>servo2</span> <span style=color:#f92672>=</span> <span style=color:#111>PWM</span><span style=color:#111>(</span><span style=color:#111>Pin</span><span style=color:#111>(</span><span style=color:#ae81ff>12</span><span style=color:#111>),</span> <span style=color:#111>frequency</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#111>degrees</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>    <span style=color:#111>output_range</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>122</span><span style=color:#f92672>-</span><span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span>    <span style=color:#111>input_range</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>180</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#111>output_pwm</span> <span style=color:#f92672>=</span> <span style=color:#111>((</span><span style=color:#111>degrees</span><span style=color:#f92672>/</span><span style=color:#111>input_range</span><span style=color:#111>)</span><span style=color:#f92672>*</span><span style=color:#111>output_range</span><span style=color:#111>)</span><span style=color:#f92672>+</span><span style=color:#111>range_low</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>return</span> <span style=color:#111>int</span><span style=color:#111>(</span><span style=color:#111>output_pwm</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#ae81ff>90</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>while</span> <span style=color:#00a8c8>True</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>for</span> <span style=color:#111>angle</span> <span style=color:#f92672>in</span> <span style=color:#111>range</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#ae81ff>1800</span><span style=color:#111>,</span><span style=color:#ae81ff>1</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>        <span style=color:#111>print</span><span style=color:#111>(</span><span style=color:#111>angle</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>        <span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#111>angle</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span>        <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>.01</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>for</span> <span style=color:#111>angle</span> <span style=color:#f92672>in</span> <span style=color:#111>range</span><span style=color:#111>(</span><span style=color:#ae81ff>1800</span><span style=color:#111>,</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>        <span style=color:#111>print</span><span style=color:#111>(</span><span style=color:#111>angle</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>        <span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#111>angle</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span>        <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>.01</span><span style=color:#111>)</span>
</span></span></code></pre></div><h2 id=controlling-a-sevo-with-respect-to-time>Controlling a Sevo with respect to time</h2><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import all the libraries</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>machine</span> <span style=color:#f92672>import</span> <span style=color:#111>Pin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>machine</span> <span style=color:#f92672>import</span> <span style=color:#111>PWM</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>time</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>math</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># define constants</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is the servo&#39;s driving frequency, which equals 20ms (1/f=t).</span>
</span></span><span style=display:flex><span><span style=color:#111>frequency</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This PWM value corresponds to the servo&#39;s smallest angle (0)</span>
</span></span><span style=display:flex><span><span style=color:#111>range_low</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This PWM value corresponds to the servo&#39;s largest angle (180)</span>
</span></span><span style=display:flex><span><span style=color:#111>range_high</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>122</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># create a new PWM instance and call it servo1</span>
</span></span><span style=display:flex><span><span style=color:#111>servo1</span> <span style=color:#f92672>=</span> <span style=color:#111>PWM</span><span style=color:#111>(</span><span style=color:#111>Pin</span><span style=color:#111>(</span><span style=color:#ae81ff>13</span><span style=color:#111>),</span> <span style=color:#111>frequency</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#111>degrees</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#d88200>    this function converts a desired angle to
</span></span></span><span style=display:flex><span><span style=color:#d88200>    its corresponding PWM value, using the range_low 
</span></span></span><span style=display:flex><span><span style=color:#d88200>    and range_high constants defined inline
</span></span></span><span style=display:flex><span><span style=color:#d88200>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># compute output scaling</span>
</span></span><span style=display:flex><span>    <span style=color:#111>output_range</span> <span style=color:#f92672>=</span> <span style=color:#111>range_high</span><span style=color:#f92672>-</span><span style=color:#111>range_low</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># compute input scaling</span>
</span></span><span style=display:flex><span>    <span style=color:#111>input_range</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>180</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># divide the desired angle by the input scaling, multiply</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#by the output scaling, and add the range_low value as an offset.</span>
</span></span><span style=display:flex><span>    <span style=color:#111>output_pwm</span> <span style=color:#f92672>=</span> <span style=color:#111>((</span><span style=color:#111>degrees</span><span style=color:#f92672>/</span><span style=color:#111>input_range</span><span style=color:#111>)</span><span style=color:#f92672>*</span><span style=color:#111>output_range</span><span style=color:#111>)</span><span style=color:#f92672>+</span><span style=color:#111>range_low</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># return the computed value as an integer</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>return</span> <span style=color:#111>int</span><span style=color:#111>(</span><span style=color:#111>output_pwm</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># save the initial time in nanoseconds as t0</span>
</span></span><span style=display:flex><span><span style=color:#111>t0</span> <span style=color:#f92672>=</span> <span style=color:#111>time</span><span style=color:#f92672>.</span><span style=color:#111>time_ns</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>get_seconds_float</span><span style=color:#111>():</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#d88200>    This function accesses the internal time_ns() function and
</span></span></span><span style=display:flex><span><span style=color:#d88200>    converts it to a floating point value in seconds
</span></span></span><span style=display:flex><span><span style=color:#d88200>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># get current time, t in nanoseconds</span>
</span></span><span style=display:flex><span>    <span style=color:#111>t</span> <span style=color:#f92672>=</span> <span style=color:#111>time</span><span style=color:#f92672>.</span><span style=color:#111>time_ns</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># subtract from t0 to obtain the time since the program began</span>
</span></span><span style=display:flex><span>    <span style=color:#111>dt</span> <span style=color:#f92672>=</span> <span style=color:#111>t</span><span style=color:#f92672>-</span><span style=color:#111>t0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># convert to a float firsty, and then convert from nanoseconds</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># to seconds by multiplying by 10^9</span>
</span></span><span style=display:flex><span>    <span style=color:#111>dt</span> <span style=color:#f92672>=</span> <span style=color:#111>float</span><span style=color:#111>(</span><span style=color:#111>dt</span><span style=color:#111>)</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1e9</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># return the change in time.</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>return</span> <span style=color:#111>dt</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>my_signal</span><span style=color:#111>(</span><span style=color:#111>t</span><span style=color:#111>,</span><span style=color:#111>A</span><span style=color:#111>,</span><span style=color:#111>f</span><span style=color:#111>,</span><span style=color:#111>b</span><span style=color:#111>,</span><span style=color:#111>t0</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#d88200>    convert the current time to a sinusoidal function
</span></span></span><span style=display:flex><span><span style=color:#d88200>    with user-defined amplitude(A), frequency(f), DC offset (b),
</span></span></span><span style=display:flex><span><span style=color:#d88200>    and time-offset(t0).
</span></span></span><span style=display:flex><span><span style=color:#d88200>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>A</span><span style=color:#f92672>*</span><span style=color:#111>(</span><span style=color:#111>math</span><span style=color:#f92672>.</span><span style=color:#111>sin</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#f92672>*</span><span style=color:#111>(</span><span style=color:#111>t</span><span style=color:#f92672>-</span><span style=color:#111>t0</span><span style=color:#111>)</span><span style=color:#f92672>*</span><span style=color:#111>math</span><span style=color:#f92672>.</span><span style=color:#111>pi</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span><span style=color:#111>))</span> <span style=color:#f92672>+</span> <span style=color:#111>b</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>return</span> <span style=color:#111>y</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># here is our main loop</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>while</span> <span style=color:#00a8c8>True</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># time.sleep is not as necessary...can be commented</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># out except if you want to print values out.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#time.sleep(.01)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># get the current time in (floating-point) seconds</span>
</span></span><span style=display:flex><span>    <span style=color:#111>t</span> <span style=color:#f92672>=</span> <span style=color:#111>get_seconds_float</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># compute the desired angle for servo 1</span>
</span></span><span style=display:flex><span>    <span style=color:#111>y1</span> <span style=color:#f92672>=</span> <span style=color:#111>my_signal</span><span style=color:#111>(</span><span style=color:#111>t</span><span style=color:#111>,</span><span style=color:#ae81ff>60</span><span style=color:#111>,</span><span style=color:#ae81ff>.5</span><span style=color:#111>,</span><span style=color:#ae81ff>90</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># print out the desired angle.  Not essential, can be commented out</span>
</span></span><span style=display:flex><span>    <span style=color:#111>print</span><span style=color:#111>(</span><span style=color:#111>y1</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># set servo 1 pwm value according to the desired angle</span>
</span></span><span style=display:flex><span>    <span style=color:#111>servo1</span><span style=color:#f92672>.</span><span style=color:#111>duty</span><span style=color:#111>(</span><span style=color:#111>angle_to_pwm</span><span style=color:#111>(</span><span style=color:#111>y1</span><span style=color:#111>))</span>
</span></span></code></pre></div><h2 id=more-information>More Information</h2><ul><li><a href=https://www.sparkfun.com/servos>https://www.sparkfun.com/servos</a></li><li></li><li>Day 2 Kahoot Vocab Practice</li></ul></article></main><footer class=blog-footer><p>Copyright &copy; 2022 Daniel M. Aukes. All rights reserved.</p><p><a href=#>Back to top</a></p></footer><script src=../../js/bootstrap.bundle.min.js crossorigin=anonymous></script>
<script src=http://idealab.asu.edu/foldable-camp/js/jquery-3.3.1.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/fuse.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/jquery.mark.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/search.js></script></body></html>