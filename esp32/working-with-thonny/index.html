<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><title>Working with Thonny | Foldable Robotics Camp</title><link href=../../css/bootstrap.min.css rel=stylesheet><style>.bd-placeholder-img{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media(min-width:768px){.bd-placeholder-img-lg{font-size:3.5rem}}</style><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Oleo+Script:wght@400;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet><link href=../../css/blog.css rel=stylesheet><link href=../../css/features.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<link rel=apple-touch-icon sizes=57x57 href=../../favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=../../favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=../../favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=../../favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=../../favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=../../favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=../../favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=../../favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=../../favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=../../favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=../../favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=../../favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=../../favicon/favicon-16x16.png><link rel=manifest href=../../favicon/manifest.json></head><body><div class=container><header class="blog-header py-3"><div class="row flex-nowrap justify-content-between align-items-center"><div class="col-2 pt-1"></div><div class="col-8 text-center"><a class="blog-header-logo text-dark" href=../../>Foldable Robotics Camp</a></div><div class="col-2 d-flex justify-content-end align-items-center"></div></div></header><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container-fluid><a class=navbar-brand href=../../>Home</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul><span class=navbar-text></span></div></div></nav></div><main class=container><div class=text-center><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../../esp32>esp32</a></li><li class="breadcrumb-item active" aria-current=page>working-with-thonny</li></ol></nav></div><h1>Working with Thonny</h1><a href=../../tags/esp32><span class="badge bg-info">esp32</span></a>
<a href=../../tags/python><span class="badge bg-info">python</span></a>
<a href=../../tags/micropython><span class="badge bg-info">micropython</span></a>
<a href=../../tags/thonny><span class="badge bg-info">thonny</span></a><article><h2 id=menu--icons>Menu & Icons</h2><h3 id=file>File</h3><p><div class=text-center><a href=filemenu.png><img src=filemenu.png alt="File Menu" style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><ul><li><p>File &ndash;> Open(ctrl+o): If the ESP32 is connected it permits you to open a file either on your computer or from the ESP32&rsquo;s file space.</p><p><div class=text-center><a href=local-remote.png><img src=local-remote.png alt="Local vs. Remote File System Selection" style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p></li><li><p>File &ndash;> Save(ctrl+s): Saves the file to the current destination</p></li><li><p>File &ndash;> Save As(ctrl+shift+s): Permits you to save the file to a new destination, as well as to switch between saving to PC or ESP32</p></li></ul><h2 id=run>Run</h2><p><div class=text-center><a href=runmenu.png><img src=runmenu.png alt="Run Menu" style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><ul><li>Run &ndash;> Run current script(f5): This runs whatever code is in your current window. If the file is not saved, it will ask where to save it, but the code is executed <em>through the shell</em> rather than through the normal startup execution of the ESP32. You can save your code to your computer and run it on the ESP32 just by hitting f5, but then this means that once restarted, the ESP32 will not be able to run the code without running it again through Thonny.</li><li>Run &ndash;> Stop/Restart Backend: This will attempt to restart the shell, if for example you want to put the ESP32 in &ldquo;interactive&rdquo; mode after it was restarted and began to run its internal boot.py &ndash;> main.py sequence.</li></ul><h2 id=shell--python-interpreter>Shell / Python Interpreter</h2><p><div class=text-center><a href=shell.png><img src=shell.png alt=Shell style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><p>The shell is at the bottom, and permits you to interact directly with the ESP32. Type in a python command and it will run it and (usually) return a value.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>MicroPython</span> <span style=color:#111>v1</span><span style=color:#ae81ff>.18</span> <span style=color:#111>on</span> <span style=color:#ae81ff>2022</span><span style=color:#f92672>-</span><span style=color:#ae81ff>01</span><span style=color:#f92672>-</span><span style=color:#ae81ff>17</span><span style=color:#111>;</span> <span style=color:#111>ESP32</span> <span style=color:#111>module</span> <span style=color:#00a8c8>with</span> <span style=color:#111>ESP32</span>
</span></span><span style=display:flex><span><span style=color:#111>Type</span> <span style=color:#d88200>&#34;help()&#34;</span> <span style=color:#00a8c8>for</span> <span style=color:#111>more</span> <span style=color:#111>information</span><span style=color:#f92672>.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#111>a</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#111>a</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> 
</span></span></code></pre></div><h3 id=shortcuts>Shortcuts</h3><p><div class=text-center><a href=interrupt.png><img src=interrupt.png alt="Interrupted Code Execution" style=max-width:80%;max-height:200px;width:auto;height:auto;text-align:center></a></div></p><ul><li>Ctrl+C: This stops (interrupts) execution of your code, wherever it is. Python throws an exception and indicates where it was stopped.</li></ul><h2 id=files>Files</h2><p>Files in python are called &ldquo;modules&rdquo;. To load a module you should use the <code>import</code> statement. The ESP32, however, also handles specific files as special cases:</p><ul><li>boot.py: If this file is present on the ESP32, it will be the first code to run after a hard reset</li><li>main.py: If this file is present, it will be the second script that gets run automatically after a hard reset. It only runs once, so you have to implement a ``while``` loop if you want code to continue running.</li><li>any other file: You must <code>import</code> that file in either boot.py or main.py if you want it to be loaded and run. For example, if you have a file called &ldquo;my_program.py&rdquo;, and want it to be run from &ldquo;main.py&rdquo;, open up &ldquo;main.py&rdquo; and add</li></ul><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>my_program</span>
</span></span></code></pre></div><p>This will load and run the my_program.py module at that specific point in the code.</p><h3 id=upip><code>upip</code></h3><p>Micropython has the capability to download and use packages from the internet. the <code>upip</code> module is responsible for this, and you can use it to download and install a number of useful external libraries. For example, assuming you have a working wifi connection established, you can type in the following to the shell</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> <span style=color:#111>upip</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#111>upip</span><span style=color:#f92672>.</span><span style=color:#111>install</span><span style=color:#111>(</span><span style=color:#d88200>&#39;micropython-logging&#39;</span><span style=color:#111>)</span>
</span></span></code></pre></div><p>This has the effect of downloading the &ldquo;micropython-logging&rdquo; package from the pypi python repository to the &ldquo;/lib/&rdquo; folder.</p><div class="alert alert-warning">Not all pypi packages are compatible with micropython, and will throw an error if you attempt to install them.</div><h2 id=esp32>ESP32</h2><ul><li>Reset Button (EN): Use this button to restart the ESP32</li><li>Bootloader Button (Boot): This doesn&rsquo;t seem to be necessary to program or work with micropython. It is most likely used for programming with other tools/languages/IDE&rsquo;s to initiate &ldquo;bootloader mode&rdquo;.</li></ul></article></main><footer class=blog-footer><p>Copyright &copy; 2022 Daniel M. Aukes. All rights reserved.</p><p><a href=#>Back to top</a></p></footer><script src=../../js/bootstrap.bundle.min.js crossorigin=anonymous></script>
<script src=http://idealab.asu.edu/foldable-camp/js/jquery-3.3.1.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/fuse.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/jquery.mark.min.js></script>
<script src=http://idealab.asu.edu/foldable-camp/js/search.js></script></body></html>